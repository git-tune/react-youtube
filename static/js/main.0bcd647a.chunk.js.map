{"version":3,"sources":["components/Header/Header.module.scss","components/Layout/Layout.module.scss","components/VideoPlay/VideoPlay.module.scss","components/SideListItem/SideListItem.module.scss","components/VideoGrid/VideoGrid.module.scss","components/VideoGridItem/VideoGridItem.module.scss","components/VideoDetail/VideoDetail.module.scss","components/SideList/SideList.module.scss","store/index.js","components/Header/Header.js","components/Layout/Layout.js","apis/index.js","components/VideoGrid/VideoGrid.js","components/VideoGridItem/VideoGridItem.js","pages/Top.js","pages/Search.js","components/VideoPlay/VideoPlay.js","components/VideoDetail/VideoDetail.js","components/SideListItem/SideListItem.js","components/SideList/SideList.js","pages/Watch.js","App.js","serviceWorker.js","index.js"],"names":["module","exports","initialState","popular","related","searchec","selected","term","reducer","state","action","type","payload","searched","Store","createContext","globalState","setGlobalState","StoreProvider","children","useReducer","Provider","value","Header","useState","setTerm","history","useHistory","useContext","useEffect","className","Style","header","item","to","onSubmit","e","preventDefault","push","placeholder","onChange","target","icon","faSearch","Layout","wrapper","class","main","youtube","axios","create","baseURL","params","part","maxResults","key","regionCode","fetchPopularData","a","get","chart","fetchSelectedData","id","fetchRelatedData","relatedToVideoId","fetchSearchData","query","q","VideoGrid","container","VideoGridItem","src","title","pathname","search","alt","Top","then","res","console","log","data","items","map","snippet","thumbnails","medium","url","Search","location","useLocation","setSearchResult","searchPrams","URLSearchParams","videoId","VideoPlay","wrap","video","VideoDetail","description","SideListItem","info","SideList","sidenav","Watch","setVideos","searchParams","Promise","all","shift","App","basename","exact","path","component","Boolean","window","hostname","match","ReactDOM","render","StrictMode","document","getElementById","navigator","serviceWorker","ready","registration","unregister","catch","error","message"],"mappings":"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","file":"static/js/main.0bcd647a.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"header\":\"Header_header__1v0yI\",\"item\":\"Header_item__2VaIS\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"wrapper\":\"Layout_wrapper__2dOTA\",\"main\":\"Layout_main__3OBIG\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"wrap\":\"VideoPlay_wrap__21ucX\",\"video\":\"VideoPlay_video__2ekpd\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"item\":\"SideListItem_item__b9PvY\",\"info\":\"SideListItem_info__1xDCF\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"VideoGrid_container__1eUpe\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"item\":\"VideoGridItem_item__2P63g\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"wrap\":\"VideoDetail_wrap__2Cb5v\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"sidenav\":\"SideList_sidenav__j1iTt\"};","import React, { createContext, useReducer } from 'react';\n\nconst initialState = {\n  popular: [],\n  related: [],\n  searchec: [],\n  selected: {},\n  term: '',\n};\n\nconst reducer = (state, action) => {\n  switch (action.type) {\n    case 'SET_POPULAR':\n      return { ...state, popular: action.payload.popular };\n    case 'SET_RELATED':\n      return { ...state, related: action.payload.related };\n    case 'SET_SELECTED':\n      return { ...state, selected: action.payload.selected };\n    case 'SET_SEARCHED':\n      return { ...state, searched: action.payload.searched };\n    case 'SET_TERM':\n      return { ...state, term: action.payload.term };\n    default:\n      return state;\n  }\n};\nexport const Store = createContext({\n  globalState: initialState,\n  setGlobalState: () => null,\n});\n\nexport const StoreProvider = ({ children }) => {\n  const [globalState, setGlobalState] = useReducer(reducer, initialState);\n  return (\n    <Store.Provider value={{ globalState, setGlobalState }}>\n      {children}\n    </Store.Provider>\n  );\n};\n","import React, { useState, useEffect, useContext } from 'react';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport { faSearch } from '@fortawesome/free-solid-svg-icons';\nimport { Link } from 'react-router-dom';\nimport Style from './Header.module.scss';\nimport { useHistory } from 'react-router-dom';\nimport { Store } from '../../store/index';\n\nconst Header = () => {\n  const [term, setTerm] = useState('');\n  const history = useHistory();\n  const { globalState, setGlobalState } = useContext(Store);\n  const handleSubmit = (e) => {\n    e.preventDefault();\n    setGlobalState({ type: 'SET_TERM', payload: { term } });\n    history.push(`/search?query=${term}`);\n  };\n  useEffect(() => {\n    setTerm(globalState.term);\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n\n  return (\n    <div className={Style.header}>\n      <div className={Style.item}>\n        <Link to='/'>ReactTube</Link>\n      </div>\n      <div className={Style.item}>\n        <form onSubmit={handleSubmit}>\n          <input\n            type='text'\n            placeholder='検索'\n            onChange={(e) => setTerm(e.target.value)}\n            value={term}\n          />\n          <button type='submit'>\n            <FontAwesomeIcon icon={faSearch} />\n          </button>\n        </form>\n      </div>\n    </div>\n  );\n};\n\nexport default Header;\n","import React from 'react';\nimport Header from '../Header/Header';\nimport Style from './Layout.module.scss';\n\nconst Layout = ({ children }) => {\n  return (\n    <div className={Style.wrapper}>\n      <Header />\n      <div class={Style.main}>{children}</div>\n    </div>\n  );\n};\n\nexport default Layout;\n","import axios from 'axios';\n\nconst KEY = 'AIzaSyBMxOIbwm_CN3npIQZpq5LQNjo5pyzJr6Q';\n\nconst youtube = axios.create({\n  baseURL: 'https://www.googleapis.com/youtube/v3',\n});\n\nconst params = {\n  part: 'snippet',\n  maxResults: 40,\n  key: KEY,\n  regionCode: 'JP',\n  type: 'video',\n};\n\nexport const fetchPopularData = async () => {\n  return await youtube.get('/videos', {\n    params: {\n      ...params,\n      chart: 'mostPopular',\n    },\n  });\n};\n\nexport const fetchSelectedData = async (id) => {\n  return await youtube.get('videos', {\n    params: {\n      ...params,\n      id,\n    },\n  });\n};\n\nexport const fetchRelatedData = async (id) => {\n  return await youtube.get('/search', {\n    params: {\n      ...params,\n      relatedToVideoId: id,\n    },\n  });\n};\n\nexport const fetchSearchData = async (query) => {\n  return await youtube.get('/search', {\n    params: {\n      ...params,\n      q: query,\n    },\n  });\n};\n","import React from 'react';\nimport Style from './VideoGrid.module.scss';\n\nconst VideoGrid = ({ children }) => {\n  return <div className={Style.container}>{children}</div>;\n};\n\nexport default VideoGrid;\n","import React from 'react';\nimport Style from './VideoGridItem.module.scss';\nimport { Link } from 'react-router-dom';\n\nconst VideoGridItem = ({ id, src, title }) => {\n  return (\n    <Link to={{ pathname: 'watch', search: `?v=${id}` }} className={Style.item}>\n      <div>\n        <img src={src} alt={title} />\n        <span>{title}</span>\n      </div>\n    </Link>\n  );\n};\n\nexport default VideoGridItem;\n","import React, { useEffect, useContext } from 'react';\nimport Layout from '../components/Layout/Layout';\nimport { fetchPopularData } from '../apis/index';\nimport { Store } from '../store/index';\nimport VideoGrid from '../components/VideoGrid/VideoGrid';\nimport VideoGridItem from '../components/VideoGridItem/VideoGridItem';\n\nconst Top = () => {\n  const { globalState, setGlobalState } = useContext(Store);\n  useEffect(() => {\n    fetchPopularData().then((res) => {\n      console.log('data', res);\n      setGlobalState({\n        type: 'SET_POPULAR',\n        payload: { popular: res.data.items },\n      });\n    });\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n  return (\n    <div>\n      <Layout>\n        <VideoGrid>\n          {globalState.popular &&\n            globalState.popular.map((popular) => {\n              return (\n                <VideoGridItem\n                  id={popular.id}\n                  key={popular.id}\n                  src={popular.snippet.thumbnails.medium.url}\n                  title={popular.snippet.title}\n                />\n              );\n            })}\n        </VideoGrid>\n      </Layout>\n    </div>\n  );\n};\n\nexport default Top;\n","import React, { useEffect, useContext } from 'react';\nimport Layout from '../components/Layout/Layout';\nimport { useLocation } from 'react-router-dom';\nimport { fetchSearchData } from '../apis/index';\nimport { Store } from '../store/index';\nimport VideoGrid from '../components/VideoGrid/VideoGrid';\nimport VideoGridItem from '../components/VideoGridItem/VideoGridItem';\n\nconst Search = () => {\n  const { globalState, setGlobalState } = useContext(Store);\n  const location = useLocation();\n  const setSearchResult = async () => {\n    const searchPrams = new URLSearchParams(location.search);\n    const query = searchPrams.get('query');\n    if (query) {\n      await fetchSearchData(query).then((res) => {\n        setGlobalState({\n          type: 'SET_SEARCHED',\n          payload: { searched: res.data.items },\n        });\n      });\n    }\n  };\n  useEffect(() => {\n    setSearchResult();\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [location.search]);\n  return (\n    <div>\n      <Layout>\n        <VideoGrid>\n          {globalState.searched ? (\n            globalState.searched.map((search) => {\n              return (\n                <VideoGridItem\n                  id={search.id.videoId}\n                  key={search.id.videoId}\n                  src={search.snippet.thumbnails.medium.url}\n                  title={search.snippet.title}\n                />\n              );\n            })\n          ) : (\n            <span>no data</span>\n          )}\n        </VideoGrid>\n      </Layout>\n    </div>\n  );\n};\n\nexport default Search;\n","import React from 'react';\nimport Youtube from 'react-youtube';\nimport Style from './VideoPlay.module.scss';\n\nconst VideoPlay = ({ id }) => {\n  return (\n    <div className={Style.wrap}>\n      <Youtube className={Style.video} videoId={id} />\n    </div>\n  );\n};\n\nexport default VideoPlay;\n","import React, { useContext } from 'react';\nimport { Store } from '../../store/index';\nimport VideoPlay from '../VideoPlay/VideoPlay';\nimport Style from './VideoDetail.module.scss';\nimport Linkify from 'react-linkify';\n\nconst VideoDetail = () => {\n  const { globalState } = useContext(Store);\n\n  return globalState.selected && globalState.selected.id ? (\n    <div className={Style.wrap}>\n      <VideoPlay id={globalState.selected.id} />\n      <p>{globalState.selected.snippet.title}</p>\n      <hr />\n      <Linkify>\n        <pre>{globalState.selected.snippet.description}</pre>\n      </Linkify>\n    </div>\n  ) : (\n    <span>no data</span>\n  );\n};\n\nexport default VideoDetail;\n","import React from 'react';\nimport { Link } from 'react-router-dom';\nimport Style from './SideListItem.module.scss';\n\nconst SideListItem = ({ id, src, title }) => {\n  return (\n    <Link className={Style.item} to={{ pathname: 'watch', search: `?v=${id}` }}>\n      <img src={src} alt={title} />\n      <div className={Style.info}>\n        <span>{title}</span>\n      </div>\n    </Link>\n  );\n};\n\nexport default SideListItem;\n","import React, { useContext } from 'react';\nimport { Store } from '../../store/index';\nimport SideListItem from '../SideListItem/SideListItem';\nimport Style from './SideList.module.scss';\n\nconst SideList = () => {\n  const { globalState } = useContext(Store);\n  return (\n    <div className={Style.sidenav}>\n      {globalState.related ? (\n        globalState.related.map((video) => {\n          return (\n            <SideListItem\n              id={video.id.videoId}\n              key={video.id.videoId}\n              src={video.snippet.thumbnails.medium.url}\n              title={video.snippet.title}\n            />\n          );\n        })\n      ) : (\n        <span>no data</span>\n      )}\n    </div>\n  );\n};\n\nexport default SideList;\n","import React, { useEffect, useContext } from 'react';\nimport Layout from '../components/Layout/Layout';\nimport VideoDetail from '../components/VideoDetail/VideoDetail';\nimport SideList from '../components/SideList/SideList';\nimport { Store } from '../store/index';\nimport { useLocation } from 'react-router-dom';\nimport { fetchSelectedData, fetchRelatedData } from '../apis/index';\n\nconst Watch = () => {\n  const { setGlobalState } = useContext(Store);\n  const location = useLocation();\n  const setVideos = async () => {\n    const searchParams = new URLSearchParams(location.search);\n    const id = searchParams.get('v');\n    if (id) {\n      const [selected, related] = await Promise.all([\n        fetchSelectedData(id),\n        fetchRelatedData(id),\n      ]);\n      setGlobalState({\n        type: 'SET_SELECTED',\n        payload: { selected: selected.data.items.shift() },\n      });\n      setGlobalState({\n        type: 'SET_RELATED',\n        payload: { related: related.data.items },\n      });\n    }\n  };\n\n  useEffect(() => {\n    setVideos();\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [location.search]);\n  return (\n    <div>\n      <Layout>\n        <VideoDetail />\n        <SideList />\n      </Layout>\n    </div>\n  );\n};\n\nexport default Watch;\n","import React from 'react';\nimport { BrowserRouter as Router, Route, Switch } from 'react-router-dom';\nimport Top from './pages/Top';\nimport Search from './pages/Search';\nimport Watch from './pages/Watch';\n\nfunction App() {\n  return (\n    <Router basename='/react-youtube'>\n      <Switch>\n        <Route exact path='/' component={Top} />\n        <Route exact path='/search' component={Search} />\n        <Route exact path='/watch' component={Watch} />\n      </Switch>\n    </Router>\n  );\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport 'normalize.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\nimport { StoreProvider } from './store/index';\n\nReactDOM.render(\n  <React.StrictMode>\n    <StoreProvider>\n      <App />\n    </StoreProvider>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\nserviceWorker.unregister();\n"],"sourceRoot":""}